
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/WangLab-ComputationalBiology/btc-scrna-training/">
      
      
      
        <link rel="next" href="advanced/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.8">
    
    
      
        <title>Installation - BTC scRNA-Seq Material</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.046329b4.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="BTC scRNA-Seq Material" class="md-header__button md-logo" aria-label="BTC scRNA-Seq Material" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BTC scRNA-Seq Material
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="BTC scRNA-Seq Material" class="md-nav__button md-logo" aria-label="BTC scRNA-Seq Material" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    BTC scRNA-Seq Material
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Installation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-nextflow-and-third-party-software" class="md-nav__link">
    1. Nextflow and third-party software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-containerization" class="md-nav__link">
    2. Containerization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-cloning-scrna-seq-pipeline" class="md-nav__link">
    3. Cloning scRNA-Seq Pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-running-single-cell-pipeline" class="md-nav__link">
    4. Running single-cell pipeline
  </a>
  
    <nav class="md-nav" aria-label="4. Running single-cell pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-preparing-inputs" class="md-nav__link">
    4.1. Preparing inputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-minimal-command-line" class="md-nav__link">
    4.2. Minimal command-line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-shorten-command-line" class="md-nav__link">
    4.3. Shorten command-line
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-expect-outputs" class="md-nav__link">
    5. Expect outputs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced settings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="intro-cirro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to Cirro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="command-line-interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command-line interface
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="quality-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Sample and QC filtering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="dimensionality-clustering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Dimensionality reduction and clustering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="stratification-and-cnv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Cell stratification and CNV Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="batch-correction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Batch correction and evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="cell-annotation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Cell annotation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="cell-communcation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Cell-cell communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="meta-programs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8. Malignant meta-programs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-nextflow-and-third-party-software" class="md-nav__link">
    1. Nextflow and third-party software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-containerization" class="md-nav__link">
    2. Containerization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-cloning-scrna-seq-pipeline" class="md-nav__link">
    3. Cloning scRNA-Seq Pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-running-single-cell-pipeline" class="md-nav__link">
    4. Running single-cell pipeline
  </a>
  
    <nav class="md-nav" aria-label="4. Running single-cell pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-preparing-inputs" class="md-nav__link">
    4.1. Preparing inputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-minimal-command-line" class="md-nav__link">
    4.2. Minimal command-line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-shorten-command-line" class="md-nav__link">
    4.3. Shorten command-line
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-expect-outputs" class="md-nav__link">
    5. Expect outputs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">#</a></h1>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">#</a></h2>
<h3 id="1-nextflow-and-third-party-software">1. Nextflow and third-party software<a class="headerlink" href="#1-nextflow-and-third-party-software" title="Permanent link">#</a></h3>
<p>Nextflow can be used on any POSIX-compatible system (Linux, OS X, WSL). It requires Bash 3.2 (or later) and Java 11 (or later, up to 18) to be installed.</p>
<div class="copy highlight"><pre><span></span><code>wget<span class="w"> </span>-qO-<span class="w"> </span>https://get.nextflow.io<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</code></pre></div>
<h3 id="2-containerization">2. Containerization<a class="headerlink" href="#2-containerization" title="Permanent link">#</a></h3>
<p>In line with contemporary pipelines, the BTC scRNA pipeline is powered by multiple Docker container. On that note, distinct computational environments will depend on distinct container technologies, such as Docker (v20.10.22) and Singularity (v3.7.0). For instance, HPC strongly depend on Singularity, therefore it should be explicited defined into <code>profile</code> configurations. For a better understanding, refer to the <a href="advanced/">advanced</a> section. Additionally, check the <a href="https://github.com/break-through-cancer/btc-sc-containers">containers</a> repository.</p>
<h3 id="3-cloning-scrna-seq-pipeline">3. Cloning scRNA-Seq Pipeline<a class="headerlink" href="#3-cloning-scrna-seq-pipeline" title="Permanent link">#</a></h3>
<div class="copy highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/WangLab-ComputationalBiology/btc-scrna-pipeline
</code></pre></div>
<h3 id="4-running-single-cell-pipeline">4. Running single-cell pipeline<a class="headerlink" href="#4-running-single-cell-pipeline" title="Permanent link">#</a></h3>
<p>The pipeline requires four parameters: <code>project name</code>, <code>sample_table</code>, <code>meta_data</code>, <code>cancer_type</code> . In particular, sample_table and meta_data should follow a <strong>mandatory</strong> format as described below.</p>
<h4 id="41-preparing-inputs">4.1. Preparing inputs<a class="headerlink" href="#41-preparing-inputs" title="Permanent link">#</a></h4>
<p>The sample table must be a CSV file containing four columns: sample, fastq_1, and fastq_2. The sample column will be linked to all reports generated by the pipeline. Additionally, it's essential for merging the metadata with the Seurat object. <strong>Example</strong> <a download="ovarian_sample_table.csv" href="assets/ovarian_sample_table.csv">sample sheet</a>.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">sample</th>
<th style="text-align: left;">fastq_1</th>
<th style="text-align: left;">fastq_2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_BOWEL</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45N_BOWEL_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45N_BOWEL_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_LEFT_OVARY</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45N_LEFT_OVARY_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45N_LEFT_OVARY_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_ASCITES</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_ASCITES_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_ASCITES_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_BOWEL</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_BOWEL_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_BOWEL_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_LEFT_UPPER_QUADRANT</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_LEFT_UPPER_QUADRANT_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_LEFT_UPPER_QUADRANT_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_RIGHT_UPPER_QUADRANT</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_RIGHT_UPPER_QUADRANT_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-009_S1_CD45P_RIGHT_UPPER_QUADRANT_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45N_RIGHT_ADNEXA</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-022_S1_CD45N_RIGHT_ADNEXA_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-022_S1_CD45N_RIGHT_ADNEXA_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45P_BOWEL</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-022_S1_CD45P_BOWEL_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-022_S1_CD45P_BOWEL_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45P_RIGHT_ADNEXA</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-022_S1_CD45P_RIGHT_ADNEXA_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-022_S1_CD45P_RIGHT_ADNEXA_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45N_INFRACOLIC_OMENTUM</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45N_INFRACOLIC_OMENTUM_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45N_INFRACOLIC_OMENTUM_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45P_ASCITES</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45P_ASCITES_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45P_ASCITES_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45P_INFRACOLIC_OMENTUM</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45P_INFRACOLIC_OMENTUM_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45P_INFRACOLIC_OMENTUM_S1_L001_R2_001.fastq.gz</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45P_RIGHT_OVARY</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45P_RIGHT_OVARY_S1_L001_R1_001.fastq.gz</td>
<td style="text-align: left;">path/to/fastq/SPECTRUM-OV-065_S1_CD45P_RIGHT_OVARY_S1_L001_R2_001.fastq.gz</td>
</tr>
</tbody>
</table>
<p>The metadata file, in .csv format, should encompass variables pertinent to the experimental design, such as batch and cell sorting status. It can also include additional biological information about the sample. The batch variable is utilized to correct effects. In this version of the pipeline, correction is based on a singular variable. <strong>Example</strong> <a download="ovarian_meta_data.csv" href="assets/ovarian_meta_data.csv">meta-data</a>.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">patient_id</th>
<th style="text-align: left;">sample_id</th>
<th style="text-align: left;">Sort</th>
<th style="text-align: left;">source_name</th>
<th style="text-align: left;">batch</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_BOWEL</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Bowel</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_INFRACOLIC_OMENTUM</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Omentum</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_LEFT_OVARY</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_LEFT_UPPER_QUADRANT</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">UQ</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_PELVIC_PERITONEUM</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Peritoneum</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_RIGHT_OVARY</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45N_RIGHT_UPPER_QUADRANT</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">UQ</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_ASCITES</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Ascites</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_BOWEL</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Bowel</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_INFRACOLIC_OMENTUM</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Omentum</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_LEFT_OVARY</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_LEFT_UPPER_QUADRANT</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">UQ</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_PELVIC_PERITONEUM</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Peritoneum</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_RIGHT_OVARY</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-009</td>
<td style="text-align: left;">SPECTRUM-OV-009_S1_CD45P_RIGHT_UPPER_QUADRANT</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">UQ</td>
<td style="text-align: left;">SPECTRUM-OV-009</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45N_ASCITES</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Ascites</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45N_BOWEL</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Bowel</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45N_LEFT_ADNEXA</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45N_RIGHT_ADNEXA</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45P_ASCITES</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Ascites</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45P_BOWEL</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Bowel</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45P_LEFT_ADNEXA</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-022</td>
<td style="text-align: left;">SPECTRUM-OV-022_S1_CD45P_RIGHT_ADNEXA</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-022</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065</td>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45N_ASCITES</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Ascites</td>
<td style="text-align: left;">SPECTRUM-OV-065</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065</td>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45N_INFRACOLIC_OMENTUM</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Omentum</td>
<td style="text-align: left;">SPECTRUM-OV-065</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065</td>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45N_RIGHT_FALLOPIAN_TUBE</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-065</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065</td>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45N_RIGHT_OVARY</td>
<td style="text-align: left;">CD45-</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-065</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065</td>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45P_ASCITES</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Ascites</td>
<td style="text-align: left;">SPECTRUM-OV-065</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065</td>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45P_INFRACOLIC_OMENTUM</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Omentum</td>
<td style="text-align: left;">SPECTRUM-OV-065</td>
</tr>
<tr>
<td style="text-align: left;">SPECTRUM-OV-065</td>
<td style="text-align: left;">SPECTRUM-OV-065_S1_CD45P_RIGHT_OVARY</td>
<td style="text-align: left;">CD45+</td>
<td style="text-align: left;">Adnexa</td>
<td style="text-align: left;">SPECTRUM-OV-065</td>
</tr>
</tbody>
</table>
<h4 id="42-minimal-command-line">4.2. Minimal command-line<a class="headerlink" href="#42-minimal-command-line" title="Permanent link">#</a></h4>
<p>To execute the pipeline, users should use the command line structure outlined below. <strong>Please</strong>, note the semantic differences between using one dash (-) for Nextflow commands and two dashes (--) for pipeline commands. Commands with two dashes are just for specific pipeline tasks, like adjusting filtering or thresholds on the single-cell analysis.</p>
<p><div class="copy highlight"><pre><span></span><code>nextflow<span class="w"> </span>run<span class="w"> </span>single_cell_basic.nf<span class="w"> </span>--project_name<span class="w"> </span>&lt;PROJECT&gt;<span class="w"> </span>--sample_csv<span class="w"> </span>&lt;path/to/sample_table.csv&gt;<span class="w"> </span>--meta_data<span class="w"> </span>&lt;path/to/meta_data.csv&gt;<span class="w"> </span>--cancer_type<span class="w"> </span>&lt;CANCER<span class="w"> </span>TYPE&gt;<span class="w"> </span>-resume<span class="w"> </span>-profile<span class="w"> </span>&lt;PROFILE&gt;
</code></pre></div>
At the end, the pipeline will make a folder named after the <code>--project_name</code> command. This folder will have all the results. The <code>-resume</code> command leverage Nextflow caching, i.e., resuming executions to avoid undesirable computational time.</p>
<h4 id="43-shorten-command-line">4.3. Shorten command-line<a class="headerlink" href="#43-shorten-command-line" title="Permanent link">#</a></h4>
<p>Long command lines can be tricky. Thankfully, with Nextflow's <code>-params-file</code>, we can make things simpler. This is a JSON file that has all the instructions related to a specific run. If you're trying out different settings, it could a best practices to keep separate files for each test, e.g., PARAMS_TEST_01.json or PARAMS_TEST_02.json.</p>
<div class="copy highlight"><pre><span></span><code><span class="o">{</span>
<span class="w"> </span><span class="s2">&quot;project_name&quot;</span>:<span class="w"> </span><span class="s2">&quot;BTC-CANCER-X&quot;</span>,
<span class="w"> </span><span class="s2">&quot;sample_csv&quot;</span>:<span class="w"> </span><span class="s2">&quot;path/to/sample_table.csv&quot;</span>,
<span class="w"> </span><span class="s2">&quot;meta_data&quot;</span>:<span class="w"> </span><span class="s2">&quot;path/to/meta_data.csv&quot;</span>,
<span class="w"> </span><span class="s2">&quot;cancer_type&quot;</span>:<span class="w"> </span><span class="s2">&quot;CANCER TYPE X&quot;</span>
<span class="w"> </span><span class="s2">&quot;thr_mean_reads_per_cells&quot;</span>:<span class="w"> </span><span class="m">10000</span>
<span class="o">}</span>
</code></pre></div>
<p>Note, other paramaters can be added into the <code>-params-file</code>. </p>
<div class="copy highlight"><pre><span></span><code>nextflow<span class="w"> </span>run<span class="w"> </span>single_cell_basic.nf<span class="w"> </span>-params-file<span class="w"> </span>&lt;PARAMS.json&gt;<span class="w"> </span>-resume<span class="w"> </span>-profile<span class="w"> </span>&lt;PROFILE&gt;
</code></pre></div>
<h3 id="5-expect-outputs">5. Expect outputs<a class="headerlink" href="#5-expect-outputs" title="Permanent link">#</a></h3>
<p><a class="glightbox" href="figures/schema-output.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img align="center" alt="Image caption" src="figures/schema-output.png" /></a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.expand"], "search": "assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>